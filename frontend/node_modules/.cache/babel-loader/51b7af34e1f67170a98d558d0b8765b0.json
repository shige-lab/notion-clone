{"ast":null,"code":"var _jsxFileName = \"/Users/shige11910/notion-clone/frontend/src/Editor.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Editor, EditorState, RichUtils, convertToRaw } from 'draft-js';\nimport 'draft-js/dist/Draft.css';\nimport { stateToHTML } from \"draft-js-export-html\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditorApp() {\n  _s();\n\n  const [editorState, setEditorState] = useState(() => EditorState.createEmpty());\n  console.log(editorState);\n\n  const onBoldClick = () => {\n    setEditorState(RichUtils.toggleInlineStyle(editorState, 'BOLD'));\n    console.log(editorState);\n  };\n\n  const onItalicClick = () => {\n    setEditorState(RichUtils.toggleInlineStyle(editorState, 'ITALIC'));\n  };\n\n  const onUnderlineClick = () => {\n    setEditorState(RichUtils.toggleInlineStyle(editorState, 'UNDERLINE'));\n  }; // const contentState: ContentState = editorState.getCurrentContent();\n\n\n  const editorJSON = JSON.stringify(convertToRaw(editorState.getCurrentContent()));\n\n  const saveText = title => {\n    const contentState = this.state.editorState.getCurrentContent();\n    const content = convertToRaw(contentState);\n    const html = stateToHTML(contentState); // 以下FireBaseの処理\n\n    const textsRef = this.db.ref(this.savePointPath + \"savedText/\");\n    const newTextRef = textsRef.push();\n    return newTextRef.update({\n      title: title,\n      time: Date.now(),\n      content: JSON.stringify(content),\n      html: html\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBoldClick.bind(editorState),\n      children: \"Bold\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onItalicClick.bind(editorState),\n      children: \"Italic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onUnderlineClick.bind(editorState),\n      children: \"Underline\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Editor, {\n      editorState: editorState,\n      onChange: setEditorState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditorApp, \"TAqHOLwwmW8k3h3WdII2KbElU4o=\");\n\n_c = EditorApp;\nexport default EditorApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditorApp\");","map":{"version":3,"sources":["/Users/shige11910/notion-clone/frontend/src/Editor.tsx"],"names":["React","useState","Editor","EditorState","RichUtils","convertToRaw","stateToHTML","EditorApp","editorState","setEditorState","createEmpty","console","log","onBoldClick","toggleInlineStyle","onItalicClick","onUnderlineClick","editorJSON","JSON","stringify","getCurrentContent","saveText","title","contentState","state","content","html","textsRef","db","ref","savePointPath","newTextRef","push","update","time","Date","now","bind"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,MAAR,EAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,YAAxC,QAAyE,UAAzE;AACA,OAAO,yBAAP;AACA,SAAQC,WAAR,QAA0B,sBAA1B;;;AAEA,SAASC,SAAT,GAAqB;AAAA;;AACnB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAC5C,MAAME,WAAW,CAACO,WAAZ,EADsC,CAA9C;AAIAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;;AACA,QAAMK,WAAW,GAAG,MAAM;AACzBJ,IAAAA,cAAc,CAACL,SAAS,CAACU,iBAAV,CAA4BN,WAA5B,EAAyC,MAAzC,CAAD,CAAd;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;AACD,GAHA;;AAID,QAAMO,aAAa,GAAG,MAAM;AAC3BN,IAAAA,cAAc,CAACL,SAAS,CAACU,iBAAV,CAA4BN,WAA5B,EAAyC,QAAzC,CAAD,CAAd;AACA,GAFD;;AAGA,QAAMQ,gBAAgB,GAAG,MAAM;AAC9BP,IAAAA,cAAc,CAACL,SAAS,CAACU,iBAAV,CAA4BN,WAA5B,EAAyC,WAAzC,CAAD,CAAd;AACA,GAFD,CAboB,CAgBnB;;;AACA,QAAMS,UAAU,GAAGC,IAAI,CAACC,SAAL,CAAed,YAAY,CAACG,WAAW,CAACY,iBAAZ,EAAD,CAA3B,CAAnB;;AAED,QAAMC,QAAQ,GAAIC,KAAD,IAAU;AAC1B,UAAMC,YAAY,GAAG,KAAKC,KAAL,CAAWhB,WAAX,CAAuBY,iBAAvB,EAArB;AACA,UAAOK,OAAO,GAAGpB,YAAY,CAACkB,YAAD,CAA7B;AACA,UAAMG,IAAI,GAAGpB,WAAW,CAACiB,YAAD,CAAxB,CAH0B,CAIxB;;AACF,UAAMI,QAAQ,GAAG,KAAKC,EAAL,CAAQC,GAAR,CAAY,KAAKC,aAAL,GAAqB,YAAjC,CAAjB;AACA,UAAMC,UAAU,GAAGJ,QAAQ,CAACK,IAAT,EAAnB;AACA,WAAOD,UAAU,CAACE,MAAX,CACL;AAACX,MAAAA,KAAK,EAACA,KAAP;AAAcY,MAAAA,IAAI,EAACC,IAAI,CAACC,GAAL,EAAnB;AAA+BX,MAAAA,OAAO,EAACP,IAAI,CAACC,SAAL,CAAeM,OAAf,CAAvC;AAAgEC,MAAAA,IAAI,EAACA;AAArE,KADK,CAAP;AAGE,GAVH;;AAYC,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,4BACF;AAAQ,MAAA,OAAO,EAAEb,WAAW,CAACwB,IAAZ,CAAiB7B,WAAjB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADE,eAEI;AAAQ,MAAA,OAAO,EAAEO,aAAa,CAACsB,IAAd,CAAmB7B,WAAnB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAQ,MAAA,OAAO,EAAEQ,gBAAgB,CAACqB,IAAjB,CAAsB7B,WAAtB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAIC,QAAC,MAAD;AACE,MAAA,WAAW,EAAEA,WADf;AAEE,MAAA,QAAQ,EAAEC;AAFZ;AAAA;AAAA;AAAA;AAAA,YAJD;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;GA1CQF,S;;KAAAA,S;AA4CT,eAAeA,SAAf","sourcesContent":["import React, { useState } from \"react\";\nimport {Editor, EditorState, RichUtils, convertToRaw, ContentState} from 'draft-js'\nimport 'draft-js/dist/Draft.css';\nimport {stateToHTML} from \"draft-js-export-html\";\n\nfunction EditorApp() {\n  const [editorState, setEditorState] = useState(\n    () => EditorState.createEmpty(),\n  );\n  \n  console.log(editorState);\n  const onBoldClick = () => {\n\t  setEditorState(RichUtils.toggleInlineStyle(editorState, 'BOLD'));\n\t  console.log(editorState);\n\t}\n\tconst onItalicClick = () => {\n\t\tsetEditorState(RichUtils.toggleInlineStyle(editorState, 'ITALIC'));\n\t}\n\tconst onUnderlineClick = () => {\n\t\tsetEditorState(RichUtils.toggleInlineStyle(editorState, 'UNDERLINE'));\n\t}\n\t\t// const contentState: ContentState = editorState.getCurrentContent();\n\t\tconst editorJSON = JSON.stringify(convertToRaw(editorState.getCurrentContent()));\n\n\tconst saveText = (title) =>{\n\t\tconst contentState = this.state.editorState.getCurrentContent();\n\t\tconst  content = convertToRaw(contentState);\n\t\tconst html = stateToHTML(contentState);\n\t   // 以下FireBaseの処理\n\t\tconst textsRef = this.db.ref(this.savePointPath + \"savedText/\");\n\t\tconst newTextRef = textsRef.push();\n\t\treturn newTextRef.update(\n\t\t  {title:title, time:Date.now(), content:JSON.stringify(content), html:html}\n\t\t);\n\t  }\n\t\n  return (\n    <div className=\"wrapper\">\n\t\t<button onClick={onBoldClick.bind(editorState)}>Bold</button>\n        <button onClick={onItalicClick.bind(editorState)}>Italic</button>\n        <button onClick={onUnderlineClick.bind(editorState)}>Underline</button>\n     <Editor \n       editorState={editorState}\n       onChange={setEditorState}\n     />\n    </div>\n  );\n}\n\nexport default EditorApp;"]},"metadata":{},"sourceType":"module"}